#!/bin/bash

#      _             _               
#  ___| |_ __ _ _ __| |_ _   _ _ __  
# / __| __/ _` | '__| __| | | | '_ \ 
# \__ \ || (_| | |  | |_| |_| | |_) |
# |___/\__\__,_|_|   \__|\__,_| .__/ 
#                             |_|  
#
# file information
# name:         startup (script)
# location:     /usr/local/bin
# function:     Install specified applications and execute the 'dispatch' script

RED='\033[0;31m'  # Red for error messages
NC='\033[0m'      # No color

# Function to print errors in red
print_error() {
    echo -e "${RED}$1${NC}"
}

echo "Starting installation of applications..."

# List of applications to install
# Add new packages to install by including them in this list.
applications=(
    "mc"             # Midnight Commander, a text-based file manager
    "ranger"         # Ranger, a file manager with VI keybindings
    "fzf"            # Fuzzy Finder, a powerful search tool
    "bpytop"         # a resource monitoring tool
    "vim"            # VIM, a highly configurable text editor
    "vim-airline"    # vim-airline, a status/tabline for VIM
    "vim-fugitive"   # vim-fugitive, a Git wrapper for VIM
    "vim-gitgutter"  # vim plugin which shows a git diff in the 'gutter' (sign column)
    "micro"          # Text editor
    "cmatrix"        # cmatrix, displays the Matrix falling characters animation
    "exa"            # modern replacement for ls
    "awesome"
    "qutebrowser"
    "picom"
    "figlet"         # converts user input into ASCII banners
)

# Installing applications with apt-get
for app in "${applications[@]}"; do
    if ! sudo apt-get install -y $app; then
        print_error "Failed to install: $app"
    fi
done

echo "All desired applications have been installed."

echo "Executing the 'dispatch' script..."
# Ensure that the 'dispatch' script is executable and available in PATH
if ! /usr/local/bin/dispatch; then
    print_error "Error executing 'dispatch'."
fi

echo "Startup process completed."
