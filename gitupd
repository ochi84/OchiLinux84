#!/bin/bash

#        _ _                   _ 
#   __ _(_) |_ _   _ _ __   __| |
#  / _` | | __| | | | '_ \ / _` |
# | (_| | | |_| |_| | |_) | (_| |
#  \__, |_|\__|\__,_| .__/ \__,_|
#  |___/            |_|  
#
# Script: gitupd
# Author: Jens Ochmann
# Purpose: Backup and sync local files to GitHub directory.
# Location: /usr/local/bin
# Usage: Execute with './gitupd' to update files to $HOME/github.

GITHUB_DIR="$HOME/github"
DEVELOP_DIR="$HOME/develop"

# Check if the GitHub directorys exists
if [ ! -d "$GITHUB_DIR" ]; then
    echo "github directory does not exist. Creating directory: $GITHUB_DIR"
    mkdir -p "$GITHUB_DIR"
fi

if [ ! -d "$DEVELOP_DIR" ]; then
    echo "develop directory does not exist. Creating directory: $DEVELOP_DIR"
    mkdir -p "$DEVELOP_DIR"
fi

echo "Updating rc- & configfiles..."
# dotfiles
cp -u $HOME/.bashrc "$GITHUB_DIR/dot.bashrc"
cp -u $HOME/.vimrc "$GITHUB_DIR/dot.vimrc"
cp -u $HOME/.config/awesome/rc.lua "$GITHUB_DIR/rc.lua"
cp -u $HOME/.config/awesome/rc.lua.original "$GITHUB_DIR/rc.lua.original"

# config files for open repo "github"
cp -u $HOME/.config/ranger/rc.conf "$GITHUB_DIR/rc.conf"
cp -u $HOME/.config/picom/picom.conf "$GITHUB_DIR/picom.conf"

# config file for private repo "develop"
# (none)

echo "Updating scripts..."
# scripts
# Here, you should define a list of specific scripts to be copied.
declare -a scripts=("backup" "gitupd" "snapcrash" "update" "dispatch" "startup")
for script in "${scripts[@]}"; do
    cp -u "/usr/local/bin/$script" "$GITHUB_DIR/"
done

echo "Update process completed."
